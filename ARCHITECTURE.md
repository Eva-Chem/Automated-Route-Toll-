# Technical Architecture & System Design

## ğŸ—ï¸ System Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CLIENT BROWSER                           â”‚
â”‚                      (React 19.2.0 + Vite)                      â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                   React Components                        â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚  Login.jsx       â”‚         â”‚  Router.jsx          â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                  â”‚         â”‚                      â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Form inputs    â”‚         â”‚ â€¢ Route config       â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Validation     â”‚         â”‚ â€¢ Role protection    â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ API calls      â”‚         â”‚ â€¢ Redirects          â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Error display  â”‚         â”‚                      â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚ auth.context.jsx     â”‚    â”‚ RequireRole.jsx      â”‚   â”‚ â”‚
â”‚  â”‚  â”‚                      â”‚    â”‚                      â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ User state         â”‚    â”‚ â€¢ Auth checking      â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Login/logout       â”‚    â”‚ â€¢ Role validation    â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Token manage.      â”‚    â”‚ â€¢ Route protection   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ localStorage       â”‚    â”‚ â€¢ Redirects          â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚            Admin Dashboard / Operator Dashboard   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚                   (Protected Routes)             â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                        â”‚                                       â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚        â”‚               â”‚               â”‚                      â”‚
â”‚        â–¼               â–¼               â–¼                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚localStorageâ”‚  â”‚ Axios      â”‚ â”‚ Fetch API    â”‚             â”‚
â”‚  â”‚            â”‚  â”‚ (HTTP)     â”‚ â”‚ (Alternative)â”‚             â”‚
â”‚  â”‚ â€¢ User     â”‚  â”‚            â”‚ â”‚              â”‚             â”‚
â”‚  â”‚ â€¢ Token    â”‚  â”‚ â€¢ Headers  â”‚ â”‚              â”‚             â”‚
â”‚  â”‚ â€¢ Session  â”‚  â”‚ â€¢ Auth     â”‚ â”‚              â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                  â”‚                                            â”‚
â”‚                  â”‚ HTTP/HTTPS                                 â”‚
â”‚                  â”‚ (CORS Enabled)                            â”‚
â”‚                  â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                        â”‚
        â”‚  â¬› NETWORK BOUNDARY   â”‚
        â”‚                        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         BACKEND SERVER                              â”‚
        â”‚       (Flask 3.1.2 + Python 3.8+)                  â”‚
        â”‚                                                     â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
        â”‚  â”‚        Flask Application (app.py)             â”‚ â”‚
        â”‚  â”‚                                                â”‚ â”‚
        â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
        â”‚  â”‚  â”‚  Routes / Blueprints                    â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚                                          â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚ auth.py Blueprintâ”‚                   â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚                  â”‚                   â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚ Routes:          â”‚                   â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚ â€¢ POST /login    â”‚                   â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚ â€¢ POST /verify   â”‚                   â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚ â€¢ GET /profile   â”‚                   â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚ â€¢ POST /logout   â”‚                   â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚        â”‚                                â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚  Authentication Logic  â”‚             â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚                        â”‚             â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚ â€¢ Credential check     â”‚             â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚ â€¢ JWT generation       â”‚             â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚ â€¢ Token validation     â”‚             â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚ â€¢ User lookup          â”‚             â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚        â”‚                                â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚        â–¼                                â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚ User Database    â”‚                  â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚ (Mock/Real DB)   â”‚                  â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚                  â”‚                  â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚ MOCK_USERS:      â”‚                  â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚ â€¢ admin          â”‚                  â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚ â€¢ operator       â”‚                  â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚                                         â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚ toll_zones.py    â”‚                  â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â”‚ (Other routes)   â”‚                  â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚                                         â”‚ â”‚ â”‚
        â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
        â”‚  â”‚                                                â”‚ â”‚
        â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
        â”‚  â”‚  â”‚  Middleware                             â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚                                          â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â€¢ CORS (flask-cors)                     â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â€¢ Error handling                        â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â€¢ Request parsing                       â”‚ â”‚ â”‚
        â”‚  â”‚  â”‚  â€¢ Response formatting                   â”‚ â”‚ â”‚
        â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
        â”‚  â”‚                                                â”‚ â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
        â”‚                                                     â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
        â”‚  â”‚  Dependencies                                 â”‚ â”‚
        â”‚  â”‚  â€¢ Flask 3.1.2                               â”‚ â”‚
        â”‚  â”‚  â€¢ flask-cors 6.0.2                          â”‚ â”‚
        â”‚  â”‚  â€¢ PyJWT 2.8.1                               â”‚ â”‚
        â”‚  â”‚  â€¢ python-dotenv 1.2.1                       â”‚ â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
        â”‚                                                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Authentication Flow Sequence

```
User                  Browser              Backend
 â”‚                      â”‚                     â”‚
 â”‚ Opens login page      â”‚                     â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚                     â”‚
 â”‚                       â”‚ Load React app      â”‚
 â”‚                       â”‚ (components)        â”‚
 â”‚                       â”‚                     â”‚
 â”‚ Enters credentials    â”‚                     â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚                     â”‚
 â”‚                       â”‚ Validate form       â”‚
 â”‚                       â”‚ (client-side)       â”‚
 â”‚                       â”‚                     â”‚
 â”‚                       â”‚ POST /api/auth/login
 â”‚                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
 â”‚                       â”‚   username          â”‚
 â”‚                       â”‚   password          â”‚
 â”‚                       â”‚                     â”‚
 â”‚                       â”‚   Verify creds      â”‚
 â”‚                       â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚                       â”‚   JWT token         â”‚
 â”‚                       â”‚   user data         â”‚
 â”‚                       â”‚   response          â”‚
 â”‚ Show dashboard        â”‚ Save token/user     â”‚
 â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ localStorage        â”‚
 â”‚                       â”‚ Redirect to         â”‚
 â”‚                       â”‚ dashboard           â”‚
 â”‚                       â”‚                     â”‚
```

---

## ğŸ“Š Role-Based Access Control (RBAC) Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ROLE-BASED ACCESS CONTROL MATRIX            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  Role: ADMINISTRATOR                                  â”‚
â”‚  â”œâ”€ /dashboard (full access)                         â”‚
â”‚  â”œâ”€ /dashboard/transactions                          â”‚
â”‚  â”œâ”€ /dashboard/zones                                 â”‚
â”‚  â””â”€ All admin-level operations                       â”‚
â”‚                                                        â”‚
â”‚  Role: OPERATOR                                       â”‚
â”‚  â”œâ”€ /operator (restricted access)                    â”‚
â”‚  â”œâ”€ /operator/zones                                  â”‚
â”‚  â””â”€ Limited operational features                     â”‚
â”‚                                                        â”‚
â”‚  UNAUTHENTICATED                                     â”‚
â”‚  â”œâ”€ /login (only)                                    â”‚
â”‚  â””â”€ Redirect to login from other routes              â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ State Management Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           CONTEXT API (State Management)         â”‚
â”‚                                                  â”‚
â”‚  AuthContext                                     â”‚
â”‚  â”œâ”€ user                                         â”‚
â”‚  â”‚  â”œâ”€ username                                  â”‚
â”‚  â”‚  â”œâ”€ name                                      â”‚
â”‚  â”‚  â”œâ”€ role (admin|operator)                     â”‚
â”‚  â”‚  â”œâ”€ email                                     â”‚
â”‚  â”‚  â””â”€ permissions[]                             â”‚
â”‚  â”‚                                               â”‚
â”‚  â”œâ”€ token                                        â”‚
â”‚  â”‚  â””â”€ JWT (stored in localStorage)              â”‚
â”‚  â”‚                                               â”‚
â”‚  â”œâ”€ isAuthenticated (boolean)                    â”‚
â”‚  â”‚                                               â”‚
â”‚  â””â”€ Methods                                      â”‚
â”‚     â”œâ”€ login(username, password)                 â”‚
â”‚     â”œâ”€ logout()                                  â”‚
â”‚     â””â”€ isAuthenticated()                         â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           LOCAL STORAGE (Persistence)            â”‚
â”‚                                                  â”‚
â”‚  auth_user: {                                    â”‚
â”‚    username: string,                             â”‚
â”‚    name: string,                                 â”‚
â”‚    role: string,                                 â”‚
â”‚    email: string,                                â”‚
â”‚    permissions: string[]                         â”‚
â”‚  }                                               â”‚
â”‚                                                  â”‚
â”‚  auth_token: string (JWT)                        â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ›£ï¸ Routing Architecture

```
/
â”œâ”€ /login (public)
â”‚  â””â”€ Login.jsx
â”‚
â”œâ”€ / (home redirect)
â”‚  â””â”€ HomeRedirect
â”‚     â””â”€ Redirect to /dashboard (admin) or /operator (operator)
â”‚
â”œâ”€ /dashboard (protected: admin only)
â”‚  â”œâ”€ AdminDashboard.jsx
â”‚  â”œâ”€ /transactions (protected: admin only)
â”‚  â”‚  â””â”€ Transactions.jsx
â”‚  â””â”€ /zones (protected: admin only)
â”‚     â””â”€ TollZones.jsx
â”‚
â”œâ”€ /operator (protected: operator only)
â”‚  â””â”€ OperatorDashboard.jsx
â”‚  â”œâ”€ /zones (protected: operator only)
â”‚  â”‚  â””â”€ TollZones.jsx
â”‚  â””â”€ ...other operator routes
â”‚
â””â”€ * (catch-all)
   â””â”€ Redirect to /
```

---

## ğŸ“¡ API Endpoint Architecture

```
BASE URL: http://127.0.0.1:5000/api

Authentication Endpoints:
â”œâ”€ POST /auth/login
â”‚  â”œâ”€ Request:  { username, password }
â”‚  â””â”€ Response: { success, token, user, expiresIn }
â”‚
â”œâ”€ POST /auth/verify
â”‚  â”œâ”€ Headers:  Authorization: Bearer <token>
â”‚  â””â”€ Response: { success, valid, user }
â”‚
â”œâ”€ GET /auth/profile
â”‚  â”œâ”€ Headers:  Authorization: Bearer <token>
â”‚  â””â”€ Response: { success, user }
â”‚
â””â”€ POST /auth/logout
   â””â”€ Response: { success, message }

Toll Zone Endpoints:
â”œâ”€ GET /zones
â”œâ”€ POST /zones
â”œâ”€ GET /zones/<id>
â”œâ”€ PUT /zones/<id>
â””â”€ DELETE /zones/<id>

Health Check:
â””â”€ GET /health
   â””â”€ Response: { status, message }
```

---

## ğŸ¨ Component Hierarchy

```
App.jsx
â””â”€ BrowserRouter
   â””â”€ AuthProvider (Context)
      â””â”€ Router
         â”œâ”€ Route: /login
         â”‚  â””â”€ Login
         â”‚     â”œâ”€ Form
         â”‚     â”‚  â”œâ”€ Username Input
         â”‚     â”‚  â”œâ”€ Password Input
         â”‚     â”‚  â””â”€ Submit Button
         â”‚     â”œâ”€ Error Alert
         â”‚     â”œâ”€ Demo Credentials
         â”‚     â””â”€ Animations
         â”‚
         â”œâ”€ Route: /
         â”‚  â””â”€ HomeRedirect
         â”‚
         â”œâ”€ Route: /dashboard
         â”‚  â””â”€ RequireRole (admin)
         â”‚     â””â”€ DashboardLayout
         â”‚        â”œâ”€ Topbar (with logout)
         â”‚        â”œâ”€ Sidebar
         â”‚        â””â”€ AdminDashboard
         â”‚
         â”œâ”€ Route: /dashboard/transactions
         â”‚  â””â”€ RequireRole (admin)
         â”‚     â””â”€ DashboardLayout
         â”‚        â””â”€ Transactions
         â”‚
         â”œâ”€ Route: /dashboard/zones
         â”‚  â””â”€ RequireRole (admin)
         â”‚     â””â”€ DashboardLayout
         â”‚        â””â”€ TollZones
         â”‚
         â””â”€ Route: /operator
            â””â”€ RequireRole (operator)
               â””â”€ DashboardLayout
                  â”œâ”€ Topbar (with logout)
                  â”œâ”€ Sidebar
                  â””â”€ OperatorDashboard
```

---

## ğŸ”’ Security Layers

```
LAYER 1: Frontend Security
â”œâ”€ Form Validation
â”œâ”€ Input Sanitization
â”œâ”€ XSS Prevention
â”œâ”€ CSRF Ready
â””â”€ Password Masking

LAYER 2: Transport Security
â”œâ”€ HTTPS (recommended)
â”œâ”€ CORS Headers
â”œâ”€ Secure Headers
â””â”€ Authorization Headers

LAYER 3: Backend Security
â”œâ”€ Credential Verification
â”œâ”€ JWT Token Validation
â”œâ”€ Role-Based Authorization
â”œâ”€ Input Validation
â””â”€ Error Handling

LAYER 4: Data Security
â”œâ”€ Secure Token Storage
â”œâ”€ localStorage usage
â”œâ”€ Session Management
â””â”€ Logout Handling

LAYER 5: Operational Security
â”œâ”€ Logging
â”œâ”€ Monitoring
â”œâ”€ Rate Limiting (todo)
â””â”€ Audit Trail (todo)
```

---

## ğŸš€ Deployment Architecture

```
Production Environment:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Load Balancer                  â”‚
â”‚              (Optional: Nginx/CloudLB)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚Frontend  â”‚                    â”‚   Backend  â”‚
    â”‚(React)   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   (Flask)  â”‚
    â”‚Server    â”‚    HTTP/HTTPS      â”‚   Server   â”‚
    â”‚Instances â”‚                    â”‚ Instances  â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜
    â”‚         Database                  â”‚
    â”‚      (MySQL/PostgreSQL)           â”‚
    â”‚  (Production deployment needed)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Current Development Setup:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Localhost Development Environment           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Frontend:  http://localhost:5173             â”‚
â”‚ Backend:   http://127.0.0.1:5000             â”‚
â”‚ Database:  Mock/In-Memory                    â”‚
â”‚ Cache:     localStorage                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ Performance Optimization

```
Frontend Optimization:
â”œâ”€ CSS Minification
â”œâ”€ JavaScript Optimization
â”œâ”€ Component Lazy Loading
â”œâ”€ Memoization
â”œâ”€ Efficient Re-renders
â””â”€ Asset Caching

Backend Optimization:
â”œâ”€ Efficient Queries
â”œâ”€ Token Caching
â”œâ”€ CORS Optimization
â”œâ”€ Response Compression
â””â”€ Error Handling

Data Flow Optimization:
â”œâ”€ Minimal API Calls
â”œâ”€ Efficient State Updates
â”œâ”€ localStorage Caching
â”œâ”€ Token Reuse
â””â”€ Batch Operations
```

---

## ğŸ§ª Testing Architecture

```
Unit Tests:
â”œâ”€ Component Tests (Jest)
â”œâ”€ Function Tests
â””â”€ Utility Tests

Integration Tests:
â”œâ”€ Auth Flow Tests
â”œâ”€ Route Protection Tests
â”œâ”€ State Management Tests
â””â”€ API Integration Tests

E2E Tests:
â”œâ”€ Login Flow
â”œâ”€ Role-Based Access
â”œâ”€ Session Management
â”œâ”€ Error Scenarios
â””â”€ Cross-Browser Testing

Manual Testing:
â”œâ”€ Form Validation
â”œâ”€ Error Messages
â”œâ”€ Loading States
â”œâ”€ Responsive Design
â””â”€ Accessibility
```

---

## ğŸ”„ Data Flow Diagram

```
User Input
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Form Component (Login)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client Validation       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
      â”‚          â”‚
    Valid      Invalid
      â”‚          â”‚
      â”‚          â–¼
      â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚    â”‚ Show Errors  â”‚
      â”‚    â”‚ Stop Process â”‚
      â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ axios POST /auth/login  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend Verification    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
      â”‚          â”‚
   Success     Failure
      â”‚          â”‚
      â–¼          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Generate JWT  â”‚ â”‚Return Error Msg â”‚
â”‚Create User   â”‚ â”‚Stop Process     â”‚
â”‚Return Data   â”‚ â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Save to Context         â”‚
â”‚ Save to localStorage    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Determine Role          â”‚
â”‚ Redirect to Dashboard   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“š Technology Stack Summary

### Frontend Stack
```
React 19.2.0
â”œâ”€ Components
â”œâ”€ Hooks
â”œâ”€ Context API (State Management)
â”œâ”€ Router DOM v7
â””â”€ Vite (Build Tool)

Styling:
â”œâ”€ CSS3 (Grid, Flexbox)
â”œâ”€ CSS Animations
â”œâ”€ Responsive Design
â””â”€ Bootstrap 5.3.8

HTTP Client:
â”œâ”€ Axios 1.13.2
â””â”€ Fetch API

Development:
â”œâ”€ Node.js
â”œâ”€ npm
â””â”€ ESLint
```

### Backend Stack
```
Flask 3.1.2
â”œâ”€ Routing
â”œâ”€ Request Handling
â””â”€ Response Management

Authentication:
â”œâ”€ PyJWT 2.8.1
â”œâ”€ CORS Support
â””â”€ Session Management

Infrastructure:
â”œâ”€ Python 3.8+
â”œâ”€ pip
â””â”€ python-dotenv
```

### Development Tools
```
Frontend:
â”œâ”€ VS Code
â”œâ”€ Vite
â”œâ”€ npm
â””â”€ Browser DevTools

Backend:
â”œâ”€ VS Code
â”œâ”€ Python REPL
â”œâ”€ Postman (API Testing)
â””â”€ Flask CLI
```

---

**This comprehensive architecture ensures scalability, security, and maintainability! ğŸ—ï¸**
